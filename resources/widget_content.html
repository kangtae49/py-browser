<!doctype html>
<html lang="en">

<head>
  <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval' data: blob:;">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Folder</title>
  <link rel="stylesheet" href="fontawesome/css/all.min.css">
  <script src="zod-3.24.4.js"></script>
  <script src="py-browser.js"></script>
  <script src="widget_content.js"></script>

  <style>
    body { margin: 0; padding: 0; height: 100vh; }
    .container { padding: 0; margin: 0; font-size: 0.8em }
    .top-bar { position: fixed; top: 0px; padding-top: 0px; width: 100%; background-color: white; }
    .slider-container { width: 100%; height: 25px; }
    .slider { width: 100%; height: 2px; }
    .ext-container { display: flex; justify-content: space-between; }
    .ext-container .ext-sub { display: flex; }
    .ext-container .ext-sub .ext { padding: 0 2px 0 2px; cursor: pointer;}
    .ext-container .ext-sub .ext[class*="on"] i { color: #2a9d8f; }
    .ext-container .ext-sub .ext i { color: #d4c5ba; }

    .top-bar .dir-browser {display: inline-block; cursor:pointer; color: #1e3050;}
    .top-bar .cell.cur-dir {cursor: pointer; display: inline-block;}
    .top-bar .cell.cur-dir .dir-all {display: inline-block;}
    .top-bar .cell.cur-dir .dir-all .dir-part {display: inline-block; cursor: pointer;}
    .top-bar .cell.cur-dir .dir-all .dir-part:hover { background-color: #bad0e4;}


    .fileheader { padding: 2px 5px 2px 5px; background-color: #f0f0f0; font-weight: bold;  }
    .file-header, .item { display: flex; }
    .file-header .cell { padding: 0; box-sizing: border-box; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}
    .file-header .cell.file { flex: 1; text-align: left; }
    .file-header .cell.browser { flex: 0 0 16px; text-align: center; cursor:pointer; color: #1e3050;}
    .file-header .cell.size { flex: 0 0 80px; text-align: right;}
    .file-header .cell.ext { flex: 0 0 50px; text-align: center;}
    .file-header .cell.date { flex: 0 0 120px; text-align: right;}
    
    .con-gal { display: flex; flex-wrap: wrap; gap: 0px; padding: 85px 5px 0 5px;}    
    .con-gal .item { width: 20%; display: flex; padding: 0 0px 0 1px;}
    .con-gal .item:hover { background-color: #bad0e4; cursor: pointer;}
    .con-gal .item .cell { width: 100%; height: 100%; object-fit: scale-down; /* object-fit: contain; */ }
    .con-gal .item .cell.icon { flex: 0 0 16px;}
    .con-gal .item .cell.file { flex: 1}
    .con-gal .item .cell.file { width: 100%; height: 100%; overflow: hidden; text-overflow: ellipsis; }
    .con-gal .item .cell .icon{ display: inline-block; }
    .con-gal .item .cell .filename{ display: inline-block; }
    
    .con-lst { display: flex; flex-direction: column;  font-family: sans-serif; padding: 85px 5px 0 5px; }
    .con-lst .item:hover {background-color: #bad0e4;}
    .con-lst .item .cell { padding: 0; box-sizing: border-box; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}
    .con-lst .item .cell.file { flex: 1; text-align: left; }
    .con-lst .item .cell.file .i-file {cursor: pointer;}
    .con-lst .item .cell.browser { flex: 0 0 16px; text-align: center; cursor:pointer; color: #1e3050;}
    .con-lst .item .cell.size { flex: 0 0 80px; text-align: right;}
    .con-lst .item .cell.ext { flex: 0 0 50px; text-align: center;}
    .con-lst .item .cell.date { flex: 0 0 120px; text-align: right;}


    .progress {
      position: relative;
      width: 40px;
      height: 40px;
    }

    .progress-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 0.4em;
      font-weight: bold;
    }

    .ring{
      width: 100%;
      height: 100%;
    }

    .ring .bg {stroke: #e6e6e6;}

    .ring .color {
      stroke: #00aaff;
      transform: rotate(-90deg);
      transform-origin: 50% 50%;
      transition: stroke-dashoffset 0.5s ease;
    }


    .fa-folder { color: #f4a261; margin-right: 5px; }
    .fa-folder-open { color: #f4a261; margin-right: 5px; }
    .fa-folder-plus { color: #f4a261; margin-right: 5px; }
    .fa-file { color: #2a9d8f; margin-right: 5px; }
    .fa-file-code { color: #2a9d8f; margin-right: 5px; }
    .fa-images { color: #2a9d8f; margin-right: 5px; }
    .fa-video { color: #2a9d8f; margin-right: 5px; }
    .fa-volume-high { color: #2a9d8f; margin-right: 5px; }
    .fa-ellipsis { color: #2a9d8f; margin-right: 5px; }
    .fa-list { color: #2a9d8f;}
    .fa-table-cells { color: #2a9d8f; }
  </style>
  <script>
    let g_state = null;

    let g_frag_lst = null;
    let g_frag_gal = null;
    let g_date_formatter = null;
    
    Pb.addListener((params) => {
      g_date_formatter = getDateFormatter();
      const jres = JSON.parse(params);
      const res = BaseMsg.parse(jres);
      window[res.action.toLowerCase()](params);
    });

    window.on_load = (params) => {
      const jres = JSON.parse(params);
      console.log("on_load");
      const res = OnLoadRes.parse(jres);
      g_state = res.state;
      console.log(res.state);
      document.querySelector(".con-lst").innerHTML = "";
      document.querySelector(".con-gal").innerHTML = "";
      document.querySelector('.slider').value = g_state.slider_val;
      setProgress(0);

      send_list_directory({ path: res.state.path, depth: 1 });

      document.querySelector(".layout-list").addEventListener("click", click_layout_list);
      document.querySelector(".layout-gallery").addEventListener("click", click_layout_gallery);
      document.querySelector('.slider').addEventListener('input', change_slider);

      
    }

    window.list_directory = (params) => {
      const jres = JSON.parse(params);
      const res = FolderRes.parse(jres);
      console.log("page_no: " + res.page_no);

      Promise.resolve(res).then((res) => {
        async_list_directory(res);
      });
    }

    const async_list_directory = (res) => {
      g_state.path = res.path;
      send_set_state({key: StateKey.enum.PATH, value: res.path});
      if (res.page_no == 0) {
        if (g_state.gallery_type == GalleryType.enum.LAYOUT_LIST) {
          g_frag_lst = null;
        } else if(g_state.gallery_type == GalleryType.enum.LAYOUT_GALLERY) {
          g_frag_gal = null;
        }

      }

      if (g_state.gallery_type == GalleryType.enum.LAYOUT_LIST) {
        list_directory_part_of_list_type(res);
      } else if(g_state.gallery_type == GalleryType.enum.LAYOUT_GALLERY) {
        list_directory_part_of_gallery_type(res);
      }

    }


    window.set_state = (params) => {
      const jres = JSON.parse(params);
      const res = SetStateRes.parse(jres);
      console.log(`set_state: ${res.key}=${res.value}`);
      if (res.key == StateKey.enum.PATH) {
        g_state.path = res.value;
      } else if (res.key == StateKey.enum.GALLERY_TYPE) {
        g_state.gallery_type = res.value;
      } else if (res.key == StateKey.enum.GALLERY_TYPE) {
        g_state.slider_val = res.value;
      }
    }
    
    window.open_path = (params) => {
      console.log("open_path");
      const jres = JSON.parse(params);
      const res = OpenPathRes.parse(jres);
      Promise.resolve(res).then((res) => {
        document.querySelector(".con-lst").innerHTML = "";
        document.querySelector(".con-gal").innerHTML = "";
        g_frag_gal = null;
        g_frag_lst = null;
        setProgress(0);

        send_list_directory({ path: res.path, depth: 1 });
      });
    }

    const click_path = (event) => {
      window.getSelection().removeAllRanges();
      const dataset = event.target.closest(".data").dataset;
      g_state.path = dataset.path;
      send_list_directory({ path: dataset.path});
      send_set_state({key: StateKey.enum.PATH, value: dataset.path});
    }

    const click_path_application = (event) => {
      window.getSelection().removeAllRanges();
      const dataset = event.target.closest(".data").dataset;
      send_open_path({ path: dataset.path, open_path_type: OpenPathType.enum.APPLICATION });
    }

    const click_path_browser = (event) => {
      console.log("click_path_browser");
      window.getSelection().removeAllRanges();
      const dataset = event.target.closest('.data').dataset;
      send_open_path({ path: dataset.path, open_path_type: OpenPathType.enum.BROWSER });
    }

    const click_layout_list = (event) => {
      console.log("click .layout-list");
      if (g_state.gallery_type != GalleryType.enum.LAYOUT_LIST) {
        setProgress(0);
        send_set_state({key: StateKey.enum.GALLERY_TYPE, value: GalleryType.enum.LAYOUT_LIST});
        list_directory_of_list_type();
      }
    };
    
    const click_layout_gallery = (event) => {
      console.log("click .layout-gallery");
      if (g_state.gallery_type != GalleryType.enum.LAYOUT_GALLERY) {
        setProgress(0);
        send_set_state({key: StateKey.enum.GALLERY_TYPE, value: GalleryType.enum.LAYOUT_GALLERY});
        list_directory_of_gallery_type();
      }
    };

    const click_cur_dir_part = (event) => {
      console.log('click_cur_dir_part');
      const dataset = event.target.closest('.dir-part').dataset;
      const dir_sub = dataset.dir_sub;
      const root_path = dataset.path.split("/")[0] + "/";
      send_list_directory({path: dir_sub, depth: 1});
      send_list_directory({path: root_path, select_path: dir_sub, depth: 0, receiver_id: WidgetId.enum.WIDGET_FOLDER});
    }

    const click_cur_dir = (event) => {
      const dataset = event.target.closest(".cur-dir").dataset;
      const root_path = dataset.path.split("/")[0] + "/";
      send_list_directory({path: root_path, select_path: root_path, depth: 0, receiver_id: WidgetId.enum.WIDGET_FOLDER});
    }

    const copy_gallery_filename = (event) => {
      const selectedText = window.getSelection().toString();
      const modifiedText = selectedText.replace(/\u200B/g, '');
      const clipboardData = event.clipboardData || window.clipboardData;
      clipboardData.setData('text/plain', modifiedText);
      event.preventDefault();
    }

    const change_slider = (event) => {
      console.log("change_slider");
      if (g_frag_gal == null){
        return;
      }

      if (g_state.slider_val != event.target.value){
        g_state.slider_val = event.target.value;
        send_set_state({ key: StateKey.enum.SLIDER_VAL, value: event.target.value});
        document.querySelectorAll('.con-gal>.item').forEach(function (element) {
          element.style.width = event.target.value + '%';
        });
      }
    }

    const draw_layout_icon = (gallery_type) => {
      if(gallery_type == GalleryType.enum.LAYOUT_LIST) {
        document.querySelector(".layout-list").classList.add("on");
        document.querySelector(".layout-gallery").classList.remove("on");
      } else {
        document.querySelector(".layout-list").classList.remove("on");
        document.querySelector(".layout-gallery").classList.add("on");
      }
    }

    const show_layout = (gallery_type) => {
      if (gallery_type == GalleryType.enum.LAYOUT_LIST) {
        document.querySelector(".con-lst").style.display = "";
        document.querySelector(".fileheader").style.display = "";
        document.querySelector(".slider-container").style.display = "none";
        document.querySelector(".con-gal").style.display = "none";

      } else if(gallery_type == GalleryType.enum.LAYOUT_GALLERY) {
        document.querySelector(".con-lst").style.display = "none";
        document.querySelector(".fileheader").style.display = "none";
        document.querySelector(".slider-container").style.display = "";
        document.querySelector(".con-gal").style.display = "";
      }

    }

    const show_top = (res) => {
      const cur_dir = document.querySelector(".cur-dir");
      cur_dir.dataset.path = res.path;
      
      const cur_dir_icon = cur_dir.querySelector("i");
      const cur_dir_browser = cur_dir.querySelector(".dir-browser");
      cur_dir_browser.addEventListener("click", click_path_browser);

      const cur_dir_all = document.querySelector(".cur-dir .dir-all");
      const arr_dir = res.path.split("/").filter((x) => x);
      cur_dir_all.innerHTML = "";
      for(i=0; i<arr_dir.length; i++) {
        let dir_sub = arr_dir.slice(0, i+1).join("/");
        if (!dir_sub.endsWith("/")){
          dir_sub += "/"; 
        }
        const div_part = document.createElement("div");
        div_part.classList.add("dir-part");
        div_part.dataset.dir_sub = dir_sub;
        div_part.dataset.path = res.path;
        div_part.innerHTML = arr_dir[i];
        div_part.addEventListener("click", click_cur_dir_part);
        cur_dir_all.appendChild(div_part);
        cur_dir_all.append("/");
      }
      cur_dir_icon.addEventListener("click", click_cur_dir);

    }

    const list_directory_part_of_list_type = async (res) => {
      const container = document.querySelector(".con-lst");

      if (res.page_no == 0){
        draw_layout_icon(GalleryType.enum.LAYOUT_LIST);
        show_layout(GalleryType.enum.LAYOUT_LIST);
        show_top(res);
        container.innerHTML = "";
        g_frag_lst = document.createDocumentFragment();
      }

      for (const [idx, item] of res.item.items.entries()) {
        let icon = "fa-file";
        if (item.is_dir && item.tot > 0){
          icon = "fa-folder-plus";
        } else if (item.is_dir && item.tot == 0) {
          icon = "fa-folder";
        } else {
          icon = "fa-file";
        }
        const div_item = document.createElement("div");
        g_frag_lst.appendChild(div_item);
        div_item.classList.add("item", "data");
        div_item.dataset.path = item.path;
        div_item.dataset.is_dir = item.is_dir;
        div_item.dataset.mtime = item.mtime;
        div_item.dataset.name = item.name;
        div_item.dataset.size = item.size;
        div_item.dataset.ext = item.ext;

        div_item.innerHTML = `
          <div class="cell file">
            <span class="i-file">
              <span class="icon"><i class="fa-solid ${icon}"></i></span>
              <span class="filename"></span>
            </span>
          </div>
          <div class="cell browser"><i class="fa-solid fa-globe"></i></div>
          <div class="cell size"></div>
          <div class="cell ext">${item.ext}</div>
          <div class="cell date">${toDate(item.mtime)}</div>
        `
        const div_i_file = div_item.querySelector(".i-file");
        const div_icon = div_item.querySelector(".icon");
        const div_filename = div_item.querySelector(".filename");
        const div_size = div_item.querySelector(".cell.size");
        const div_browser = div_item.querySelector(".cell.browser");
        div_size.innerHTML = formatFileSize(item.size);
        div_size.title = item.size;
        div_filename.innerHTML = item.name;
        div_i_file.title = item.name;
        
      }

      if (g_frag_lst.childElementCount == res.item.tot){
        container.appendChild(g_frag_lst.cloneNode(true));
      }
      const cur_part_cnt = g_frag_lst.childElementCount;
      await new Promise(resolve => setTimeout(resolve, 0));
      setProgress(Math.ceil(cur_part_cnt/res.item.tot*100));


    }

    const list_directory_of_list_type = () => {
      console.log("list_directory_of_list_type");
      draw_layout_icon(GalleryType.enum.LAYOUT_LIST);
      show_layout(GalleryType.enum.LAYOUT_LIST);
      if (g_frag_lst == null) {
        send_list_directory({ path: g_state.path, depth: 1 });
      }

      const container = document.querySelector(".con-lst");
      const total_pages = Math.ceil(g_frag_lst.length);

      document.querySelector(".con-gal").innerHTML = "";
      document.querySelector(".con-lst").innerHTML = "";
      container.appendChild(g_frag_lst.cloneNode(true));
    }

    const list_directory_of_gallery_type = () => {
      console.log("list_directory_of_gallery_type");
      draw_layout_icon(GalleryType.enum.LAYOUT_GALLERY);
      show_layout(GalleryType.enum.LAYOUT_GALLERY);
      if (g_frag_gal == null) {
        send_list_directory({ path: g_state.path, depth: 1 });
      }

      const container = document.querySelector(".con-gal");

      document.querySelector(".con-gal").innerHTML = "";
      document.querySelector(".con-lst").innerHTML = "";
      container.appendChild(g_frag_gal.cloneNode(true));

      const slider = document.querySelector('.slider');
      slider.dispatchEvent(new Event('input', { bubbles: true }));
    }


    const list_directory_part_of_gallery_type = async (res) => {

      const container = document.querySelector(".con-gal");
      if (res.page_no == 0){
        draw_layout_icon(GalleryType.enum.LAYOUT_GALLERY);
        show_layout(GalleryType.enum.LAYOUT_GALLERY);
        show_top(res);
        container.innerHTML = "";
        g_frag_gal = document.createDocumentFragment();
      }


      const width = g_state.slider_val + '%';

      for (const [idx, item] of res.item.items.entries()) {
        let icon = "fa-file";
        if (item.is_dir && item.tot > 0){
          icon = "fa-folder-plus";
        } else if (item.is_dir && item.tot == 0) {
          icon = "fa-folder";
        } else {
          icon = "fa-file";
        }

        const div_item = document.createElement("div");
        g_frag_gal.appendChild(div_item);
        div_item.style.width = width;
        div_item.classList.add("item", "data");
        div_item.title = item.name;
        div_item.dataset.path = item.path;
        div_item.dataset.is_dir = item.is_dir;
        div_item.dataset.mtime = item.mtime;
        div_item.dataset.name = item.name;
        div_item.dataset.size = item.size;
        div_item.dataset.ext = item.ext;
        if (item.mime.startsWith("video/")) {
          div_item.innerHTML = `
            <video controls class="cell">
              <source src="" type="${item.mime}"  />
            </video>
          `;
          div_item.querySelector("source").src = item.path;
        } else if(item.mime.startsWith("audio/")) {
          div_item.innerHTML = `
            <audio controls class="cell">
              <source src="" type="${item.mime}"  />
            </audio>
          `;
          div_item.querySelector("source").src = item.path;
        } else if(item.mime.startsWith("image/")) {
          div_item.innerHTML = `
            <img src="" loading="lazy" class="cell"/>
          `;
          div_item.querySelector("img").src = item.path;
        } else if(item.is_dir) {
          div_item.innerHTML = `
            <div class="cell i-file">
              <div class="icon"><i class="fa-solid ${icon}"></i></div>
              <div class="filename"></div>
            </div>
          `;
          div_item.querySelector(".filename").innerHTML = change_filename(item.name);
        } else {
          div_item.innerHTML = `
            <div class="cell i-file">
              <div class="icon"><i class="fa-solid ${icon}"></i></div>
              <div class="filename"></div>
            </div>
            `;
          div_item.querySelector(".filename").innerHTML = change_filename(item.name);
        }
      }
      if (g_frag_gal.childElementCount == res.item.tot){
        container.appendChild(g_frag_gal.cloneNode(true));
      }
      const cur_part_cnt = g_frag_gal.childElementCount;
      await new Promise(resolve => setTimeout(resolve, 0));
      setProgress(Math.ceil(cur_part_cnt/res.item.tot*100));

    }



    const change_filename = (name) => {
      return name.replace(/(.{5})(?=.)/g, '$1\u200B');
    } 

    const formatFileSize = (bytes) => {
      if (bytes === 0) return '0KB';
      const kb = Math.ceil(bytes / 1024);
      return kb.toLocaleString('en-US') + 'KB';
    }

    const getDateFormatter = () => {
      const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
      const formatter = new Intl.DateTimeFormat('ko-KR', {
        timeZone: timeZone,
        year: 'numeric',
        month: '2-digit',
        day: '2-digit',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: false
      });
      return formatter;
    } 

    const toDate = (t) => {
      const date = new Date(t * 1000);
      let formatted = g_date_formatter.format(date);
      formatted = formatted.replace(/\s+/g, "").split(".");
      return formatted.slice(0, 3).join("-") + " " + formatted.slice(-1)[0]
    }

    function setProgress(percent) {
      const color = document.querySelector(".ring .color");
      const text = document.querySelector('.progress-text');
      const radius = color.r.baseVal.value;
      const circumference = 2 * Math.PI * radius;
      
      const offset = circumference * (1 - percent/100);
      color.style.strokeDasharray = circumference;
      color.style.strokeDashoffset = offset;
      text.textContent = `${percent}%`;
    }


    document.addEventListener("copy", copy_gallery_filename);

    document.addEventListener("click", (event) => {
      const target = event.target;
      const dataset = target.closest(".data")?.dataset;
      if (dataset == null){
        return;
      }

      if (target.closest(".con-lst")) {
        if (dataset.is_dir == "true" && target.closest(".icon")){
          click_path(event);
        } else if (dataset.is_dir == "false" && target.closest(".icon")) {
          click_path_application(event);
        } else if (target.closest(".browser")) {
          click_path_browser(event);
        }
      } else if (target.closest(".con-gal")) {
        if (target.tagName == "IMG"){
          click_path_browser(event);
        } else if (dataset.is_dir == "true" && target.closest(".icon")){
          click_path(event);
        } else if (dataset.is_dir == "false" && target.closest(".icon")){
          click_path_application(event);
        }
      }
    });

    document.addEventListener("dblclick", (event) => {
      const target = event.target;
      const dataset = target.closest(".data")?.dataset;
      if (dataset == null){
        return;
      }
      if (target.closest(".con-lst")) {
        if (target.closest(".filename")) {
          click_path_application(event);
        }
      } else if (target.closest(".con-gal")) {
        if (target.closest(".filename")){
          click_path_application(event);
        }
      }

    });

    sort_list = (sort_list) => {
      let con_name = ""
      if (g_state.gallery_type == GalleryType.enum.LAYOUT_LIST){
        con_name = ".con-lst";
      } else {
        con_name = ".con-gal";
      }

      const container = document.querySelector(con_name);
      let items = Array.from(container.querySelectorAll(`${con_name} .item`));

      items = items.sort((a, b) => {
        for (const [nm, sort_num] of sort_list) {
          if (nm == "is_dir") {
            if (a.dataset.is_dir != b.dataset.is_dir) {
              return (a.dataset.is_dir == "true" ? -1 : 1) * sort_num;
            }
          } else if (["name", "ext"].includes(nm)) {
            const a_lower = a.dataset[nm].toLowerCase();
            const b_lower = b.dataset[nm].toLowerCase();
            const cmp = a_lower.localeCompare(b_lower);
            if (cmp != 0) {
              return cmp * sort_num;
            }
          } else if (["size", "mtime"].includes(nm)) {
            const a_num = parseInt(a.dataset[nm]);
            const b_num = parseInt(b.dataset[nm]);
            const cmp = a_num-b_num;
            if (cmp != 0) {
              return cmp * sort_num;
            }
          }
        }
        
      });

      const fragment = document.createDocumentFragment();
      items.forEach(item => {
        fragment.appendChild(item);
      });
      container.appendChild(fragment);
    }


  </script>
</head>

<body>
  <div class="container">
    <div class="top-bar">
      <div class="ext-container">
        <div class="ext-sub">
          <div class="progress">
            <svg class="ring" viewBox="0 0 100 100">
              <circle class="bg" r="38" cx="50" cy="50" fill="transparent" stroke-width="10"/>
              <circle class="color" r="38" cx="50" cy="50" fill="transparent" stroke-width="10"/>
            </svg>
            <div class="progress-text">0%</div>
          </div>
          <!--
          <div class="ext"><i class="fa-solid fa-folder"></i></div>
          <div class="ext"><i class="fa-solid fa-file"></i></div>
          <div class="ext"><i class="fa-solid fa-images"></i></div>
          <div class="ext"><i class="fa-solid fa-video"></i></div>
          <div class="ext"><i class="fa-solid fa-volume-high"></i></div>
          <div class="ext"><i class="fa-solid fa-ellipsis"></i></div>
          -->
        </div>
        <div class="ext-sub">
          <div class="ext layout-list"><i class="fa-solid fa-list"></i></div>
          <div class="ext layout-gallery"><i class="fa-solid fa-table-cells"></i></i></div>
        </div>
      </div>
      <div class="cur-path">
        <div class="cell cur-dir data"><i class="fa-solid fa-folder"></i>
          <div class="dir-all">
          </div>
          <div class="dir-browser"><i class="fa-solid fa-globe"></i></div>
        </div>
      </div>
      <div>
        <div class="fileheader">
          <div class="file-header">
            <div class="cell file">name</div>
            <div class="cell browser"></div>
            <div class="cell size">size</div>
            <div class="cell ext">ext</div>
            <div class="cell date">date</div>
          </div>
        </div>
      </div>

      <div class="slider-container">
        <input class="slider" type="range" id="volume" name="volume" min="0" max="100" value="50">
      </div>

    </div>
    <div class="con-gal">
    </div>

    <div class="con-lst">
    </div>

  </div>
</body>


</html>

